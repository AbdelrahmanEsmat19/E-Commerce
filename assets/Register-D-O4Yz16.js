import{r as s,l as y,U as w,j as e,b as j,a as k,B as N}from"./index-C5btn2aY.js";import{u as v}from"./formik.esm-D_HQf7td.js";import{c as P,a as t,b as C}from"./index.esm-DJhNBDn1.js";import{H as S}from"./Helmet-BW_6S4mB.js";function R(){const[n,c]=s.useState(null),[i,d]=s.useState(!1),p=y(),{setUserToken:u}=s.useContext(w),[o,m]=s.useState(!1),[l,f]=s.useState(!1),h={name:"",email:"",phone:"",password:"",rePassword:""},x=P().shape({name:t().min(4,"Name must be more than 4 character").max(15).required("Name is required"),email:t().email("Invalid email").required("Email is required"),phone:t().matches(/^01[0125][0-9]{8}$/,"phone must be egyptian number").required("Phone is required"),password:t().min(8,"Password must be at least 8 characters").required("Password is required"),rePassword:t().oneOf([C("password"),null],"Passwords must match the password").required("Confirmation password is required")}),r=v({initialValues:h,validationSchema:x,onSubmit:b});async function b(g){d(!0);try{const{data:a}=await k.post("https://ecommerce.routemisr.com/api/v1/auth/signup",g);a.message=="success"&&(u(a.token),N.success("Sign Up Success! , You Can Login Now  "),p("/login")),console.log(a)}catch(a){console.log(a),c(a.response.data.message)}finally{d(!1),u(null)}}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"max-w-xl mx-auto my-10 ",children:[e.jsx("h1",{className:"mb-3 text-3xl font-bold",children:"Register:"}),e.jsx("div",{children:n&&e.jsx("div",{className:"bg-red-300 p-2 text-black mb-6",children:n})}),e.jsxs("form",{className:"max-w-xl mx-auto",onSubmit:r.handleSubmit,children:[e.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[e.jsx("input",{type:"text",name:"name",id:"name",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",onChange:r.handleChange,value:r.values.name,onBlur:r.handleBlur}),e.jsx("label",{htmlFor:"name",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 left-0 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter your name"}),r.touched.name&&r.errors.name?e.jsx("div",{className:"text-red-500 font-bold text-left",children:r.errors.name}):null]}),e.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[e.jsx("input",{type:"email",name:"email",id:"email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",onChange:r.handleChange,value:r.values.email,onBlur:r.handleBlur}),e.jsxs(S,{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("title",{children:"Register Page "}),e.jsx("link",{rel:"canonical",href:"http://mysite.com/example"})]}),e.jsx("label",{htmlFor:"email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 left-0 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter your email"}),r.touched.email&&r.errors.email?e.jsx("div",{className:"text-red-500 font-bold text-left",children:r.errors.email}):null]}),e.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[e.jsx("input",{type:"tel",name:"phone",id:"phone",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",onChange:r.handleChange,value:r.values.phone,onBlur:r.handleBlur}),e.jsx("label",{htmlFor:"phone",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 left-0 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter your phone"}),r.touched.phone&&r.errors.phone?e.jsx("div",{className:"text-red-500 font-bold text-left",children:r.errors.phone}):null]}),e.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[e.jsx("input",{type:o?"text":"password",name:"password",id:"password",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",onChange:r.handleChange,value:r.values.password,onBlur:r.handleBlur}),e.jsx("label",{htmlFor:"password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 left-0 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter your password"}),r.touched.password&&r.errors.password?e.jsx("div",{className:"text-red-500 font-bold text-left",children:r.errors.password}):null,e.jsx("button",{type:"button",className:"absolute right-0 top-0 mt-2 mr-2",onClick:()=>m(!o),children:o?e.jsx("i",{className:"fa-solid fa-eye-slash"}):e.jsx("i",{className:"fa-solid fa-eye"})})]}),e.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[e.jsx("input",{type:l?"text":"password",name:"rePassword",id:"rePassword",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",onChange:r.handleChange,value:r.values.rePassword,onBlur:r.handleBlur}),e.jsx("label",{htmlFor:"rePassword",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 left-0 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter your confirmation password"}),r.touched.rePassword&&r.errors.rePassword?e.jsx("div",{className:"text-red-500 font-bold text-left",children:r.errors.rePassword}):null,e.jsx("button",{type:"button",className:"absolute right-0 top-0 mt-2 mr-2",onClick:()=>f(!l),children:l?e.jsx("i",{className:"fa-solid fa-eye-slash"}):e.jsx("i",{className:"fa-solid fa-eye"})})]}),e.jsx("div",{className:"my-4",children:e.jsxs("p",{children:["Already have an account?"," ",e.jsx(j,{className:"text-blue-500 underline",to:"/login",children:"Sign in"})," "]})}),e.jsx("button",{disabled:!(r.isValid&&r.dirty),type:"submit",className:"text-white btn",children:i?e.jsx("i",{className:"fa-solid fa-spinner fa-spin"}):"Register"})]})]})})}export{R as default};
