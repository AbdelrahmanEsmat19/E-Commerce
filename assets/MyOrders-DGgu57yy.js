import{r as t,C as p,j as e,a as h}from"./index-CqbWaQa9.js";import{H as m}from"./Helmet-BfdMAyYQ.js";function j(){const{cartOwner:r}=t.useContext(p),[c,d]=t.useState([]),[i,a]=t.useState(!1),[l,x]=t.useState(null);async function n(){try{a(!0);const{data:s}=await h.get(`https://ecommerce.routemisr.com/api/v1/orders/user/${r}`);d(s),a(!1)}catch(s){x(s.message),a(!1)}}return t.useEffect(()=>{n()},[r]),e.jsx("section",{className:"py-5",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsx("div",{className:"my-3",children:e.jsxs("h4",{className:"text-lg font-bold mb-4 text-blue-600",children:["My Orders (",c.length,")"]})}),e.jsxs("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:[e.jsxs("table",{className:"w-full text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-center text-gray-700 uppercase bg-blue-100 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-16 py-3",children:"Details"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Phone"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"City"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Price"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Address"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Payment Method"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Total"})]})}),e.jsxs("tbody",{children:[c.map((s,o)=>e.jsxs("tr",{className:`bg-white text-center border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 ${o%2===0?"bg-gray-100":""}`,children:[e.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:s.shippingAddress.details}),e.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:s.shippingAddress.phone}),e.jsx("td",{className:"px-6 py-4",children:s.shippingAddress.city}),e.jsxs("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:["EGP ",s.totalOrderPrice]}),e.jsx("td",{className:"px-6 py-4",children:s.updatedAt}),e.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:s.shippingAddress.details}),e.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:s.paymentMethodType}),e.jsxs("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:["EGP ",s.totalOrderPrice]})]},s.id)),e.jsxs(m,{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("title",{children:"My Orders Page "}),e.jsx("link",{rel:"canonical",href:"http://mysite.com/example"})]})]})]}),i&&e.jsx("div",{className:"text-center py-4",children:e.jsx("span",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"sr-only",children:"Loading..."})})}),l&&e.jsx("div",{className:"text-center py-4 text-red-500",children:l})]})]})})}export{j as default};
