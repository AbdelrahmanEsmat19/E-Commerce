import{r as a,U as g,C as p,W as j,j as e,B as y}from"./index-B7BCiI2A.js";import{H as u}from"./Helmet-Cxk4P1_l.js";function w(){const{userToken:i}=a.useContext(g),{addToCart:n}=a.useContext(p),{getWishListDetails:o,removeFromWishList:x}=a.useContext(j),[t,l]=a.useState([]),[N,c]=a.useState(null);a.useEffect(()=>{d()},[i]);async function d(){const s=await o();s.status==="success"?(l(s.data),c(s.data._id),console.log(s)):console.log("error")}async function h(s){const r=await x(s);r.status==="success"?(y.success(r.message),l(t.filter(m=>m.id!==s)),c(r.data._id)):console.log("error")}return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"wishlist"}),e.jsx("section",{className:"py-5",children:e.jsx("div",{className:"container mx-auto",children:t&&t.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:" my-3",children:e.jsxs("h4",{className:"text-lg",children:["Total items ",e.jsx("span",{className:"text-green-600",children:t.length})]})}),e.jsx("div",{className:"relative overflow-x-auto   shadow-md sm:rounded-lg",children:e.jsxs("table",{className:"w-full   text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-center text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-16 py-3",children:e.jsx("span",{className:"sr-only",children:"Image"})}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Product"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"CART"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Price"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),e.jsx("tbody",{children:t==null?void 0:t.map((s,r)=>e.jsxs("tr",{className:"bg-white text-center border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[e.jsx("td",{className:"p-4",children:e.jsx("img",{src:s.imageCover,className:"w-16 md:w-32 max-w-full max-h-full",alt:s.slug})}),e.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:s.title}),e.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:e.jsx("button",{onClick:()=>n(s.id),className:"btn",children:"AddToCart"})}),e.jsxs("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:[s.price," EGP"]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{onClick:()=>h(s.id),className:"font-medium  bg-red-600 p-2 text-white rounded dark:text-red-500 hover:bg-red-400",children:"Remove"})})]},r))})]})}),e.jsxs(u,{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("title",{children:"WishList Page "}),e.jsx("link",{rel:"canonical",href:"http://mysite.com/example"})]})]}):e.jsx("p",{className:"text-lg text-center bg-green-400 p-2 mt-5",children:"Your wishlist is empty."})})})]})}export{w as default};
