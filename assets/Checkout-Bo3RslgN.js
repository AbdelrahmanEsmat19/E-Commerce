import{l as x,r as o,C as h,j as e,B as l}from"./index-C5mswYAu.js";import{u as b}from"./formik.esm-BCUunBN8.js";import{H as g}from"./Helmet-evCaGZP0.js";function C(){const n=x(),{getPayment:c,cartId:s,RemoveAllCart:u,setnumOfCartItems:i}=o.useContext(h),[r,d]=o.useState(!1),t=b({initialValues:{details:"",phone:"",city:""},onSubmit:m});async function m(p){const f=r?`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${s}?url=https://abdelrahmanesmat19.github.io/E-Commerce`:`https://ecommerce.routemisr.com/api/v1/orders/${s}`,a=await c(f,p);a.status==="success"?r?window.location.href=a.session.url:(l.success("Payment done successfuly"),i(0),u(),setTimeout(()=>{n("/allorders")},3e3)):(console.error("Payment failed:",a),l.error("Payment failed. Please try again."))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"max-w-xl mx-auto my-10",children:[e.jsx("h1",{className:"mb-5 text-3xl font-bold",children:"Checkout:"}),e.jsxs(g,{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("title",{children:"Checkout Page"}),e.jsx("link",{rel:"canonical",href:"http://mysite.com/example"})]}),e.jsxs("form",{className:"max-w-xl mx-auto",onSubmit:t.handleSubmit,children:[e.jsxs("div",{className:"relative  z-0 w-full mb-5 group",children:[e.jsx("input",{type:"tel",name:"phone",id:"phone",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",onChange:t.handleChange,required:!0}),e.jsx("label",{htmlFor:"phone",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 left-0 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter your phone"})]}),e.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[e.jsx("input",{type:"text",name:"details",id:"details",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",onChange:t.handleChange,required:!0}),e.jsx("label",{htmlFor:"details",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 left-0 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter your details"})]}),e.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[e.jsx("input",{type:"text",name:"city",id:"city",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",onChange:t.handleChange,required:!0}),e.jsx("label",{htmlFor:"city",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 left-0 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Enter your city"})]}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("input",{type:"checkbox",id:"isOnline",onChange:()=>d(!r),className:"w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e.jsx("label",{htmlFor:"isOnline",className:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:"Pay With Visa"})]}),e.jsx("button",{type:"submit",className:`text-white ${r?"bg-blue-600":"bg-orange-600"} hover:bg-blue-700 focus:ring-blue-500 focus:ring-offset-blue-200 text-sm font-medium rounded-lg px-5 py-2.5`,children:r?"Pay With Visa":"Pay Cash"})]})]})})}export{C as default};
